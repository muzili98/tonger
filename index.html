<!DOCTYPE html>
<html>
<head>
    <!-- è§†å£è®¾ç½®ï¼Œç¦æ­¢ç¼©æ”¾ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- ç¬¬ä¸‰æ–¹èµ„æºCDN -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.staticfile.net/font-awesome/5.15.4/css/all.min.css">
    
    <style>
        /* ---------- å¸ƒå±€æ ·å¼ ---------- */
        /* é¡¶éƒ¨å›ºå®šå·¥å…·æ  */
        #topBar {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 9999;
        }

        /* çŒ«çŒ«ä¸»å›¾æ ‡æ ·å¼ */
        #catIcon {
            font-size: 40px;
            cursor: pointer;
            transition: 
                transform 0.3s ease,
                filter 0.3s ease;
            animation: catIdle 2s infinite;  /* é»˜è®¤ç©ºé—²åŠ¨ç”» */
            user-select: none;  /* ç¦æ­¢æ–‡å­—é€‰ä¸­ */
        }
        #catIcon:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 8px gold);  /* æ‚¬æµ®å‘å…‰æ•ˆæœ */
        }
        #catIcon:active {
            animation: catJump 0.5s;  /* ç‚¹å‡»æ—¶æ’­æ”¾è·³è·ƒåŠ¨ç”» */
        }

        /* å¹¸è¿è®¡æ•°å™¨æ ·å¼ */
        #luckCounter {
            font-size: 24px;
            color: gold;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
            background: rgba(0,0,0,0.3);  /* åŠé€æ˜èƒŒæ™¯ */
            padding: 10px 20px;
            border-radius: 20px;
            transition: transform 0.3s;
            backdrop-filter: blur(3px);  /* èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ */
        }

        /* ---------- é¡µé¢åŸºç¡€æ ·å¼ ---------- */
        body {
            background: linear-gradient(
                45deg,
                var(--color1),
                var(--color2),
                var(--color3)
            );
            background-size: 400% 400%;  /* æ¸å˜èƒŒæ™¯åŠ¨æ•ˆ */
            overflow: hidden;
            margin: 0;
            height: 100vh;
            cursor: pointer;
            transition: 
                background-position 8s ease-in-out,
                background 8s ease-in-out;  /* èƒŒæ™¯æ¸å˜è¿‡æ¸¡ */
            --color1: #ff6666;  /* é»˜è®¤æ¸å˜è‰²1 */
            --color2: #ff9999;  /* é»˜è®¤æ¸å˜è‰²2 */
            --color3: #ffcccc;  /* é»˜è®¤æ¸å˜è‰²3 */
        }

        /* ç¥ç¦æ–‡å­—åŠ¨ç”»å…ƒç´  */
        .blessing {
            position: absolute;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            white-space: nowrap;  /* ç¦æ­¢æ¢è¡Œ */
            animation: floatUp var(--duration) linear forwards;
            will-change: transform;  /* ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½ */
            --duration: 10s;  /* åŠ¨ç”»æŒç»­æ—¶é—´ */
            --rotate-end: 360deg;  /* æ—‹è½¬è§’åº¦ */
        }

        /* ç²’å­æ•ˆæœæ ·å¼ */
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;  /* ç¦æ­¢é¼ æ ‡äº¤äº’ */
            animation: 
                particleMove var(--particle-dur) ease-out forwards,
                particleFade var(--particle-dur) ease-out,
                particlePulse var(--particle-dur) linear;  /* ç»„åˆåŠ¨ç”» */
            filter: drop-shadow(0 0 5px currentColor);
            background: currentColor;
            width: var(--size);
            height: var(--size);
        }

        /* ---------- åŠ¨ç”»å®šä¹‰ ---------- */
        /* ç¥ç¦æ–‡å­—ä¸Šæµ®åŠ¨ç”» */
        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(var(--rotate-end)); opacity: 0; }
        }

        /* ç²’å­è¿åŠ¨åŠ¨ç”» */
        @keyframes particleMove {
            to {
                transform: 
                    translate( 
                        calc(var(--dx) * 200px),  /* Xè½´ä½ç§»é‡ */
                        calc(var(--dy) * 200px - 100px)  /* Yè½´ä½ç§»é‡ */
                    )
                    scale(1.2);
            }
        }

        /* ç²’å­æ·¡å‡ºåŠ¨ç”» */
        @keyframes particleFade {
            to { opacity: 0; }
        }

        /* ç²’å­è„‰å†²åŠ¨ç”» */
        @keyframes particlePulse {
            50% { transform: scale(1.5); }
        }

        /* çŒ«çŒ«åŠ¨ç”»é›†åˆ */
        @keyframes catIdle {  /* ç©ºé—²çŠ¶æ€å¾®åŠ¨ */
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(5deg); }
        }
        @keyframes catJump {  /* ç‚¹å‡»è·³è·ƒåŠ¨ç”» */
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px) rotate(-10deg); }
            100% { transform: translateY(0); }
        }
        @keyframes catBounce {  /* å¼¹æ€§åŠ¨ç”» */
            0%, 100% { transform: translateY(0) scale(1); }
            25% { transform: translateY(-15px) scale(1.2); }
            50% { transform: translateY(0) scale(0.9); }
            75% { transform: translateY(-8px) scale(1.1); }
        }

        /* ---------- ç§»åŠ¨ç«¯é€‚é… ---------- */
        @media (max-width: 600px) {
            .blessing { 
                font-size: 24px;
                max-width: 480vw;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            .particle { --size: 6px; }
            #topBar {
                top: 10px;
                right: 10px;
                gap: 10px;
            }
            #catIcon {
                font-size: 50px;  /* æ”¾å¤§è§¦æ§åŒºåŸŸ */
            }
            #luckCounter {
                font-size: 32px;
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨äº¤äº’åŒºåŸŸ -->
    <div id="topBar">
        <div id="catIcon" title="æ‘¸æ‘¸çŒ«çŒ«">ğŸ±</div>
        <div id="luckCounter">å¥½è¿+0</div>
    </div>

    <script>
        // ========== åˆå§‹åŒ– ==========
        // è¯»å–æœ¬åœ°å­˜å‚¨çš„ç‚¹å‡»æ¬¡æ•°
        let luckCount = parseInt(localStorage.getItem('luckCount')) || 0;
        const counterEl = document.getElementById('luckCounter');
        counterEl.textContent = `å¥½è¿+${luckCount}`;

        // ç¥ç¦è¯­åº“
        const blessings = [
            "ğŸ¤ å¸Œæœ›ä¾—å„¿å°å§å§ï¼Œæ—©æ—¥åº·å¤ï¼",
            "âœ¨ ä¸–ç•Œç¬¬ä¸€å¯çˆ±ä¾—å„¿ï¼",
            "ğŸŒ¸ äººç¾å£°ç”œä¾—å„¿ï¼",
            "ğŸ’– ä¾—å„¿ç¬‘å®¹æ²»æ„ˆå…¨ä¸–ç•Œï¼",
            "ğŸŒŸ å®ˆæŠ¤æœ€å¥½çš„ä¾—å„¿ï¼", 
            "ğŸ¶ é©±æ•£ä¾—å„¿æ‰€æœ‰é˜´éœ¾ï½",
            "ğŸŒº å…ƒæ°”æ»¡æ»¡ä¾—å„¿é…±ï¼",
            "ğŸ­ ä¾—å„¿æœ€æ£’ï¼",
            "ğŸŒ™ å¥½å¿«å¿«ï½",
            "ğŸŒˆ ä¾—å„¿çš„ç¬‘å®¹æ˜¯æˆ‘çš„é˜³å…‰"
        ];

        // ========== å·¥å…·å‡½æ•° ==========
        // ç”Ÿæˆéšæœºé¢œè‰²ï¼ˆæš–è‰²è°ƒï¼‰
        function getRandomColor() {
            return `hsl(${30 + Math.random()*60}, 100%, 65%)`;
        }

        // ç”Ÿæˆæ¸å˜é¢œè‰²ç»„
        function getRandomGradient() {
            const baseHue = Math.random() * 360;
            return [
                `hsl(${baseHue}, 70%, 60%)`,
                `hsl(${(baseHue + 60) % 360}, 70%, 70%)`,
                `hsl(${(baseHue + 120) % 360}, 70%, 80%)`
            ];
        }

        // åˆ›å»ºç¥ç¦æ–‡å­—å…ƒç´ 
        function createBlessing(x, y) {
            const bless = document.createElement('div');
            bless.className = 'blessing';
            bless.textContent = blessings[Math.floor(Math.random() * blessings.length)];
            bless.style.color = getRandomColor();
            
            // éšæœºæ—‹è½¬æ–¹å‘å’ŒæŒç»­æ—¶é—´
            const rotation = (Math.random() > 0.5 ? 1 : -1) * 360 * (1 + Math.random()*2);
            bless.style.setProperty('--rotate-end', `${rotation}deg`);
            bless.style.setProperty('--duration', `${5 + Math.random() * 10}s`);
            
            // å®šä½é€»è¾‘ï¼šé™åˆ¶åœ¨å±å¹•å®½åº¦èŒƒå›´å†…
            bless.style.left = Math.min(
                x || Math.random() * window.innerWidth * 0.7, 
                window.innerWidth - 300
            ) + 'px';
            bless.style.top = (y || window.innerHeight - 100) + 'px';
            
            document.body.appendChild(bless);
            setTimeout(() => bless.remove(), 15000);  // 15ç§’åè‡ªåŠ¨ç§»é™¤
        }

        // ========== äº‹ä»¶ç›‘å¬ ==========
        // çŒ«çŒ«å›¾æ ‡ç‚¹å‡»äº‹ä»¶ï¼ˆç”Ÿæˆé‡‘è‰²ç²’å­ï¼‰
        document.getElementById('catIcon').addEventListener('click', function(e) {
            for(let i=0; i<15; i++) {
                const angle = Math.random() * Math.PI * 2;  // éšæœºè§’åº¦
                const particle = document.createElement('div');
                const size = 8 + Math.random() * 12;  // éšæœºå¤§å°
                const speed = 0.5 + Math.random();    // éšæœºé€Ÿåº¦
                
                // ç²’å­æ ·å¼è®¾ç½®
                particle.style.cssText = `
                    left: ${e.clientX - size/2}px;
                    top: ${e.clientY - size/2}px;
                    color: gold;
                    --size: ${size}px;
                    --dx: ${Math.cos(angle) * speed};  // Xè½´æ–¹å‘åˆ†é‡
                    --dy: ${Math.sin(angle) * speed - 0.5};  // Yè½´æ–¹å‘åˆ†é‡ï¼ˆå¸¦å‘ä¸Šåç§»ï¼‰
                    --particle-dur: ${0.8 + Math.random() * 0.4}s;
                `;
                particle.className = 'particle';
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 1200);  // 1.2ç§’åç§»é™¤
            }
        });

        // å…¨å±€ç‚¹å‡»äº‹ä»¶ï¼ˆä¸»é€»è¾‘ï¼‰
        document.body.addEventListener('click', (e) => {
            // æ›´æ–°è®¡æ•°å™¨
            luckCount++;
            counterEl.textContent = `å¥½è¿+${luckCount}`;
            localStorage.setItem('luckCount', luckCount);

            // çŒ«çŒ«å¼¹æ€§åŠ¨ç”»è§¦å‘
            const catIcon = document.getElementById('catIcon');
            catIcon.style.animation = 'none';  // é‡ç½®åŠ¨ç”»
            setTimeout(() => {
                catIcon.style.animation = 'catBounce 0.6s ease';
            }, 50);

            // æ›´æ–°èƒŒæ™¯æ¸å˜
            const [c1, c2, c3] = getRandomGradient();
            document.body.style.cssText = `
                --color1: ${c1};
                --color2: ${c2};
                --color3: ${c3};
                background-position: ${Math.random()*100}% ${Math.random()*100}%;
            `;

            // ç”Ÿæˆå½©è‰²ç²’å­
            for(let i=0; i<30; i++) {
                const angle = Math.random() * Math.PI * 2;
                const particle = document.createElement('div');
                const size = 4 + Math.random() * 8;
                const speed = 0.3 + Math.random() * 0.7;
                
                particle.style.cssText = `
                    left: ${e.clientX - size/2}px;
                    top: ${e.clientY - size/2}px;
                    color: ${getRandomColor()};
                    --size: ${size}px;
                    --dx: ${Math.cos(angle) * speed};
                    --dy: ${Math.sin(angle) * speed - 0.5};
                    --particle-dur: ${0.6 + Math.random() * 0.6}s;
                `;

                particle.className = 'particle';
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 1200);
            }

            // åˆ›å»ºç¥ç¦æ–‡å­—
            createBlessing(e.clientX, e.clientY);
        });

        // å®šæ—¶ç”Ÿæˆéšæœºç¥ç¦æ–‡å­—
        setInterval(() => createBlessing(), 2000 + Math.random()*2000);
        createBlessing();  // åˆå§‹ç”Ÿæˆ
    </script>
</body>
</html>
